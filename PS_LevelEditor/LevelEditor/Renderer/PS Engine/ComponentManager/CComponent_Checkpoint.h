/////////////////////////////////////////////////////////////////////////////////////////////////////
// Class Name: CComponent_Checkpoint
//
// Purpose: Saves players progress, heals the player
//
// Original Author: Kevin Clouden
//
// Creation Date: 6/10/2012
//
// Last Modification By: 
// Last Modification Date: 
/////////////////////////////////////////////////////////////////////////////////////////////////////
#ifndef CCOMPONENT_CHECKPOINT_H_
#define CCOMPONENT_CHECKPOINT_H_


// Includes
#include "IComponent.h"

class CComponent_Animation;
class CInputManager;

__declspec(align(32))
class CComponent_Checkpoint : public IComponent
{
private:
	struct tCheckpoint
	{
		vec3f m_nPosition;
		int m_nHealth;
		int m_nLevelID;

// 		class Checkpoint()
// 		{
// 			m_nPosition = vec3f(0.0f, 0.0f, 0.0f);
// 			m_nHealth = 0;
// 			m_nLevelID = 0;
// 		}
	};


	CComponent_Animation* m_pAnimComponent;
	CInputManager* m_pInput;
	IBaseObject* m_pPlayer;
	IComponent* m_pCmp;

	//Currently hardcoded
	AABB m_Sector1CheckPoint;
	AABB m_Sector1HealingPoint;

	AABB m_Sector2CheckPoint;
	AABB m_Sector2HealingPoint;

	bool m_bSector1;

public:

	CComponent_Checkpoint();

	~CComponent_Checkpoint();

	/////////////////////////////////////////
	//	Accessors
	/////////////////////////////////////////
	//tCheckpoint GetCurrentLevel();

	/////////////////////////////////////////
	//	Mutators
	/////////////////////////////////////////

	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: Initialize()
	// Purpose: Initializes data members
	// Original Author: Kevin Clouden
	// Creation Date: 6/10/2012
	// Last Modification By:
	// Last Modification Date:
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	bool Initialize( void );

	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: Update()
	// Purpose: No purpose yet...
	// Original Author: Kevin Clouden
	// Creation Date: 6/10/2012
	// Last Modification By:
	// Last Modification Date:
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	void Update( float fDT );

	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: SaveProgress()
	// Purpose: Saves player progress
	// Original Author: Kevin Clouden
	// Creation Date: 6/10/2012
	// Last Modification By:
	// Last Modification Date:
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	bool SaveProgress(  );

	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: LoadProgress()
	// Purpose: Loads player progress
	// Original Author: Kevin Clouden
	// Creation Date: 6/10/2012
	// Last Modification By:
	// Last Modification Date:
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	bool LoadProgress(  );

	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: LoadNextLevel()
	// Purpose: Loads next lvl
	// Original Author: Kevin Clouden
	// Creation Date: 6/10/2012
	// Last Modification By:
	// Last Modification Date:
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	bool LoadNextLevel( char* szFilename );

};
#endif  //CCOMPONENT_CHECKPOINT_H_