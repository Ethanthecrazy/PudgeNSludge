/////////////////////////////////////////////////////////////////////////////////////////////////////
// Class Name: CComponent_PlugCollision
//
// Purpose: Handle all collisions for the plug object
//
// Original Author: Rueben Massey
//
// Creation Date: 6/4/2012
//
// Last Modification By: 
// Last Modification Date: 
/////////////////////////////////////////////////////////////////////////////////////////////////////
#ifndef CCOMPONENT_PLUGCOLLISION_H_
#define CCOMPONENT_PLUGCOLLISION_H_

#include "CComponent_Collision.h"

// FORWARD DECLARATIONS
class CComponent_Sound;

class CComponent_PlugCollision : public CComponent_Collision
{

private:
	bool m_bPlugged;
	bool m_bPlayed;
	float m_fPlayDelay;
	vec3f m_tPrevPos;
	CComponent_Sound* m_pSoundComponent;

public:

	/////////////////////////////
	//  Accessors
	/////////////////////////////
	bool GetPlugged() const { return m_bPlugged; }

	/////////////////////////////
	//  Mutators
	/////////////////////////////
	void SetPlugged(bool val) { m_bPlugged = val; }

	CComponent_PlugCollision();
	~CComponent_PlugCollision();

	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: Initialize()
	// Purpose: Initialize all data members
	// Original Author: Rueben Massey
	// Creation Date: 6/4/2012
	// Last Modification By: 
	// Last Modification Date: 
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	bool Initialize( );

	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: Update()
	// Purpose: Update all data members
	// Original Author: Rueben Massey
	// Creation Date: 6/4/2012
	// Last Modification By: 
	// Last Modification Date: 
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	void Update( float fDT );

	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: Shutdown()
	// Purpose: clean up memory
	// Original Author: Rueben Massey
	// Creation Date: 6/4/2012
	// Last Modification By: 
	// Last Modification Date: 
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	void Shutdown(void);

	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: CheckDynamicCollisions()
	// Purpose: Check collisions with all dynamic objects
	// Original Author: Ethan Pendergraft
	// Creation Date: 6/13/2012
	// Last Modification By: 
	// Last Modification Date: 
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	void CheckDynamicCollisions( CComponent_Collision* pCurCollision, CCollisionVolume* pCurVolume, float fDT );

	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: CheckStaticCollisions()
	// Purpose: Check collisions with all static objects
	// Original Author: Ethan Pendergraft
	// Creation Date: 6/13/2012
	// Last Modification By: 
	// Last Modification Date: 
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	void CheckStaticCollisions( CComponent_Collision* pCurCollision, CCollisionVolume* pCurVolume, float fDT );
};
#endif //CCOMPONENT_PLUGCOLLISION_H_