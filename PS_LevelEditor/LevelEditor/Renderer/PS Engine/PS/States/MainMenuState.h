/////////////////////////////////////////////////////////////////////////////////////////////////////
// Class Name: MainMenuState
// Purpose: This is the Main Menu State
// Original Author: Rueben Massey
// Creation Date: 5/14/2012
// Last Modification By:
// Last Modification Date:
/////////////////////////////////////////////////////////////////////////////////////////////////////

#ifndef _MAINMENUSTATE_H
#define _MAINMENUSTATE_H

#include "IGameState.h"
#include "../CGame.h"

enum MENU_ITEMS { STARTGAME, OPTIONS, CREDITS, EXIT, NUM_ITEMS };

#define MENU_MIN_X 0.5f
#define MENU_MAX_X 0.7f
#define START_MIN_Y 0.381546f
#define START_MAX_Y 0.508728f
#define OPTIONS_MIN_Y 0.25187f
#define OPTIONS_MAX_Y 0.326683f
#define CREDITS_MIN_Y 0.142145f
#define CREDITS_MAX_Y 0.219451f
#define EXIT_MIN_Y 0.042394f
#define EXIT_MAX_Y 0.114713f

class CInputManager;
class CAudioManager;

__declspec(align(32))
class CMainMenuState : public IGameState
{
private:
	static CMainMenuState* m_pInstance;
	CGame* m_pGame;
	CInputManager* m_pInput;
	CAudioManager* m_pAudio;
	int m_nHighlighted;
	LPDIRECT3DTEXTURE9 m_nReticle;
	D3DXVECTOR4 _mousePos;
	bool m_bOnTop;

	/*Box boxA, boxB;
	vec2f VelA;
	vec2f VelB;*/

	// Background Textures to be swapped
	LPDIRECT3DTEXTURE9 m_nStartTextureHandle; 
	LPDIRECT3DTEXTURE9 m_nOptionsTextureHandle; 
	LPDIRECT3DTEXTURE9 m_nCreditsTextureHandle; 
	LPDIRECT3DTEXTURE9 m_nExitTextureHandle;

	/////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: CMainMenuState
	// Purpose: Default Constructor.
	// Original Author: Rueben Massey
	// Creation Date: 5/14/2012
	// Last Modification By:	
	// Last Modification Date:	
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	CMainMenuState();

	/////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: ~CMainMenuState
	// Purpose: Default Destructor.
	// Original Author: Rueben Massey
	// Creation Date: 5/14/2012
	// Last Modification By:	
	// Last Modification Date:	
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	~CMainMenuState();

	////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: CMainMenuState Copy Constructor
	// Purpose: Default copy constructor.
	// Original Author: Josh Fields
	// Creation Date: 5/14/2012
	// Last Modification By:	
	// Last Modification Date:	
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	CMainMenuState( const CMainMenuState& obj );

	/////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: operator =
	// Purpose: Assignment Operator.
	// Original Author: Rueben Massey
	// Creation Date: 5/14/2012
	// Last Modification By:	
	// Last Modification Date:	
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	CMainMenuState& operator = ( const CMainMenuState& obj);

public:
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: GetInstance
	// Purpose: Returns the instance of the Main Menu.
	// Original Author: Rueben Massey
	// Creation Date: 5/14/2012
	// Last Modification By:
	// Last Modification Date:
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	static CMainMenuState* GetInstance ();

	/////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: DeleteInstance
	// Purpose: Deletes the instance of the Main Menu.
	// Original Author: Rueben Massey
	// Creation Date: 5/14/2012
	// Last Modification By:
	// Last Modification Date:
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	static void DeleteInstance ();

	/////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: Init
	// Purpose: Initializes the state.
	// Original Author: Rueben Massey
	// Creation Date: 5/14/2012
	// Last Modification By:
	// Last Modification Date:
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	void Init(void);

	/////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: Shutdown
	// Purpose: Shuts down the state.
	// Original Author: Rueben Massey
	// Creation Date: 5/14/2012
	// Last Modification By:
	// Last Modification Date:
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	void Shutdown();

	/////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: Update
	// Purpose: Updates the state.
	// Original Author: Rueben Massey
	// Creation Date: 5/14/2012
	// Last Modification By:
	// Last Modification Date:
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	void Update(float fTime);

	/////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: Input
	// Purpose: Gets input to update the state.
	// Original Author: Rueben Massey
	// Creation Date: 5/14/2012
	// Last Modification By:
	// Last Modification Date:
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	bool Input();

	/////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function Name: Render
	// Purpose: Render the state.
	// Original Author: Rueben Massey
	// Creation Date: 5/14/2012
	// Last Modification By:
	// Last Modification Date:
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	void Render();
};

#endif