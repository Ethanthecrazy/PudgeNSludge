//////////////////////////////////////////////////////////////////////////////////////
// Filename:	CBossIdleAI.h
// Author:		Josh Fields
// Date:		5/24/12
// Purpose:		This is a virtual class for all ai
//////////////////////////////////////////////////////////////////////////////////////
#ifndef _BOSSIDLEAI_H
#define _BOSSIDLEAI_H

#include "IBaseAI.h"
#include "../Utilities/CollisionLib/CollisionShapes.h"

class BossIdleAI : public IBaseAI
{
private:
	Line m_LineToCeling;
	Line m_LineToRight;
	Line m_LineToLeft;

	Line m_AltLineToLeft;
	Line m_AltLineToRight;

	Sphere m_FloatSphere;
	vec3f m_v3MoveDir;
	float m_fHoverTime;
	float m_fFlyTime;
	float m_fElapsedTime;

	bool m_bMaxHeightReached;

	void ChecKCelingCollision ( AABB _Volume );
	void CheckWallCollision ( AABB _Volume );
	bool LineOfSight ();

public:
	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// BossIdleAI(IBaseObject* _pParent):	Default Constructor that takes in the parent object.
	//
	// Returns:		Void
	//
	// Mod. Name: JF
	// Mod. Date: 6/2/12
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	BossIdleAI (IBaseObject* _pParent);

	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// ~BossIdleAI():	default destructor
	//
	// Returns:		Void
	//
	// Mod. Name: JF
	// Mod. Date: 6/2/12
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	~BossIdleAI ();

	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// Init():	init all member variables
	//
	// Returns:		Void
	//
	// Mod. Name: JF
	// Mod. Date: 6/2/12
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	void Init ();

	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// Shutdown():	deletes allocated memory and unintis all member variables
	//
	// Returns:		Void
	//
	// Mod. Name: JF
	// Mod. Date: 6/2/12
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	void Shutdown ();

	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// Update(float _fElapsedTime):	Updates the Boss idle ai.
	//
	// Returns:		Void
	//
	// Mod. Name: JF
	// Mod. Date: 6/2/12
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	void Update (float _fElapsedTime);

	void SetMoveDir (vec3f _vDir) { m_v3MoveDir = _vDir; }
	//vec3f GetMoveDir () { return  m_v3MoveDir; }
};
#endif